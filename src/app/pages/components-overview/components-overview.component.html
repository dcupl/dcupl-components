<div class="w-full h-screen overflow-hidden">
  <div
    class="flex flex-col lg:flex-row w-full overflow-hidden h-full"
    *ngIf="stylesList"
  >
    <div class="flex flex-col w-full h-full overflow-auto p-8" id="top">
      <div class="bg-white py-8">
        <div class="">
          <h2 class="text-2xl font-bold tracking-tight text-gray-900">
            dcupl components showcase
          </h2>
          <p class="mt-6 text-lg leading-8 text-gray-600">
            This page showcases the capabilities of the dcupl SDK. You can apply
            queries, calculate facets, and receive suggestions, all directly
            within the browser, without any reliance on backend services.
            <br />
            In this particular example, we retrieve approximately 44 thousand
            fashion products from the dcupl CDN and present them in a table.
            <br />

            The source code is available on
            <a
              target="_blank"
              class="text-indigo-500 underline hover:text-indigo-900"
              href="https://github.com/dcupl/dcupl-components"
              >Github</a
            >.
          </p>
        </div>
      </div>
      <div class="py-8 border-t border-gray-200">
        <div class="prose">
          <h3>Simple Text</h3>
          <p>
            Check the devtools console to see the constructed query and the
            result. The following shows a simple text search. When clicking
            "submit" a query is constructed.
          </p>
        </div>
        <div class="py-3 w-80">
          <app-simple-text [list]="stylesList"></app-simple-text>
        </div>
      </div>

      <div class="py-8 border-t border-gray-200">
        <div class="prose">
          <h3>Simple Facets</h3>
          <p>
            The following component calculates and lists facets. When clicking
            an item the query will be applied.
          </p>
        </div>
        <div class="py-3 w-80">
          <app-simple-facets [list]="stylesList"></app-simple-facets>
        </div>
      </div>

      <div class="py-8 border-t border-gray-200">
        <div class="prose">
          <h3>Range Slider</h3>
          <p>
            The following component applies a numerical query to the "year"
            attribute of the table.
          </p>
        </div>
        <div class="py-3 w-80">
          <app-range-slider [list]="stylesList"></app-range-slider>
        </div>
      </div>

      <div class="py-8 border-t border-gray-200">
        <div class="prose">
          <h3>Suggestion Buttons</h3>
          <p>
            The following component gets suggestions for the "style" attribute
            as a single button select
          </p>
        </div>
        <div class="py-3 w-80">
          <app-suggestion-buttons [list]="stylesList"></app-suggestion-buttons>
        </div>
      </div>

      <div class="py-8 border-t border-gray-200">
        <div class="prose">
          <h3>Suggestion Multiselect</h3>
          <p>
            The following component gets suggestions for the "colour" attribute
            as a multiselect
          </p>
        </div>
        <div class="py-3 w-80">
          <app-suggestion-multiselect
            [list]="stylesList"
          ></app-suggestion-multiselect>
        </div>
      </div>
    </div>

    <div
      class="flex w-full flex-col h-full overflow-auto bg-gray-200 p-8 shadow-inner border-gray-500 border-t border-dashed lg:border-none"
    >
      <div class="sm:flex sm:items-center">
        <div class="sm:flex-auto">
          <h1 class="text-base font-semibold leading-6 text-gray-900">
            <span>Products</span>

            <span class="ml-3 text-xs" *ngIf="metadata"
              >({{ metadata.currentSize }} / {{ metadata.initialSize }})</span
            >
          </h1>
          <p class="mt-2 text-sm text-gray-700">
            Make use of the filters below to narrow down the results displayed
            in the table. The entire querying process happens right within the
            browser, without the need for any backend services.
          </p>
        </div>
        <div class="mt-4 sm:ml-16 sm:mt-0 sm:flex-none space-y-2">
          <button
            type="button"
            class="block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
            (click)="reset()"
          >
            Reset Queries
          </button>
          <button
            type="button"
            class="block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
            (click)="toggleView()"
          >
            <ng-container *ngIf="viewMode === 'component'">
              Show Code
            </ng-container>
            <ng-container *ngIf="viewMode === 'code'">Show Table</ng-container>
          </button>
        </div>
      </div>

      <div>
        <app-simple-table
          [list]="stylesList"
          *ngIf="viewMode === 'component'"
        ></app-simple-table>
      </div>
      <div class="mt-8" *ngIf="viewMode === 'code'">
        <app-code-block [code]="metadata?.appliedQuery | json"></app-code-block>
      </div>
    </div>
  </div>
</div>
